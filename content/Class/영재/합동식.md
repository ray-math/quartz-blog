 양의 정수 $m$과 두 정수 $a, b$ 사이에 $m \mid (a - b)$인 관계가 있을 때, "$a$와 $b$는 법 $m$에 관하여 합동이다"라고 하고, 이것을

$$
a \equiv b \pmod{m}
$$

으로 나타낸다. 이 식을 합동식이라 한다. $a$와 $b$가 법 $m$에 관하여 합동이 아닌 경우에는

$$
a \not\equiv b \pmod{m}
$$

으로 나타낸다.

예를들어 $a$가 $b$의 배수이면, $b \mid a$, 즉 $b \mid (a - 0)$이므로

$$
a \equiv 0 \pmod{b}
$$

라고 할 수 있다.

## 합동식의 성질

임의의 정수 $a$에 대하여

1. $a \equiv a \pmod{m}$ [^1]
2. $a \equiv b \pmod{m} \Rightarrow b \equiv a \pmod{m}$ [^2]
3. $a \equiv b \pmod{m},\ b \equiv c \pmod{m} \Rightarrow a \equiv c \pmod{m}$ [^3]

임의의 정수 $c$에 대하여 $a \equiv b \pmod{m},\ c \equiv d \pmod{m}$일 때 

4. $a \pm c \equiv b \pm d \pmod{m}$ (복호동순) [^4]
5. $a + c \equiv b + c \pmod{m}$ [^5]
6. $ac \equiv bd \pmod{m}$ [^6]
7. 임의의 양의 정수 $n$에 대하여 $a^n \equiv b^n \pmod{m}$ [^7]

## 완전 잉여계(Total Residue System)
 
 자연수 $m$에 대해, 정수 $a_1, a_2, \ldots, a_m$가 다음 조건을 만족할 때 이 수들을 법 $m$에 대한 완전 잉여계라고 한다.

- 각각의 $a_i$는 서로 다른 $m$개의 수이다.
- 각각의 $a_i$는 어떤 정수 $b$와 합동이다. 즉, 모든 정수는 $a_i$ 중 하나와 $\pmod{m}$에서 합동이다.

$$
\{a_1, a_2, \ldots, a_m\}
$$

은 정수 전체를 $m$으로 나누었을 때 나올 수 있는 모든 나머지를 정확히 하나씩 포함한다. 

예를 들어

- $\{0, 1, 2, 3, 4\}$는 법 $5$에 대한 완전 잉여계다.  
- $\{-2, -1, 0, 1, 2\}$도 법 $5$에 대한 완전 잉여계다.  

 $\{0, 1, 2, 3, 4\}$와 $\{-2, -1, 0, 1, 2\}$가 법 5에 대한 두 완전잉여계라 하면, 다음과 같이 일대일 대응이 이루어진다.

$$
\begin{align*}
-2 &\equiv 3 \pmod{5},\\
-1 &\equiv 4 \pmod{5},\\
\quad 0 &\equiv 0 \pmod{5},\\
1 &\equiv 1 \pmod{5},\\
\quad 2 &\equiv 2 \pmod{5}
\end{align*}
$$

완전 잉여계는 여러 가지로 구성할 수 있다. 어떤 수를 기준으로 대칭을 만들거나, 음수를 포함하는 것도 가능하다. 단, 완전 잉여계의 원소는 법 $m$에 대해 중복 없이 하나씩만 나와야 한다.

## 기약 잉여계(Reduced Residue System)

자연수 $m$에 대해, 정수 $b_1, b_2, \ldots, b_r$가 다음 조건을 만족할 때 이 수들을 법 $m$에 대한 기약 잉여계라고 한다.

- $1 \le b_i < m$ 또는 $0 \le b_i < m$ 사이의 수들 중에서
- 각각의 $b_i$는 $m$과 서로소이다. 즉, $\gcd(b_i, m) = 1$
- 서로 다른 $\phi(m)$개의 수로 이루어진다. ($\phi(m)$은 오일러 함수, 즉 $m$보다 작고 서로소인 수의 개수)

$$
\{b_1, b_2, \ldots, b_{\phi(m)}\}
$$

는 법 $m$에 대한 기약 잉여계다.

예를 들어

- $m = 10$일 때, $\phi(10) = 4$이고, $\{1, 3, 7, 9\}$는 $\gcd(b_i, 10) = 1$이므로 기약 잉여계입니다.
- $m = 7$일 때, $\phi(7) = 6$, $\{1, 2, 3, 4, 5, 6\}$는 모두 7과 서로소이므로 기약 잉여계입니다.

기약 잉여계의 각 원소는 $m$보다 작은 자연수이며, $m$과 서로소인 수들로만 이루어져야 한다. 기약 잉여계는 $\phi(m)$개의 원소를 가져야 하며, 이 조건을 만족하는 수라면 다양한 조합이 가능하다. 기약 잉여계는 (법 $m$에 대한)곱셈에 대해 군 구조를 가진다.

## 소약법칙

정수에서 $ab = ac$이고 $a \ne 0$이면 $b = c$가 성립한다. 이러한 것을 소약법칙이라 하는데, 합동식에서도 소약법칙이 성립할까?  

예를 들어

$$
2 \cdot 3 \equiv 2 \cdot 5 \pmod{4}
$$

가 성립한다. 그러나

$$
3 \not\equiv 5 \pmod{4}
$$

이므로 소약법칙이 성립하지 않는다.

하지만 다음과 같은 경우에는 소약법칙이 성립한다.

$$
ab \equiv ac \pmod{m}
$$

이고, $a$가 $m$과 서로소($\gcd(a, m) = 1$) 이면

$$
b \equiv c \pmod{m}
$$

이다.
### 증명

$$
\begin{align*}
& ab \equiv ac \pmod{m} \\
\Rightarrow \quad & m \mid (ab - ac) \\
\Rightarrow \quad &m \mid a(b - c)
\end{align*}
$$

$\gcd(a, m) = 1$ 이므로 $m \mid (b - c)$이어야 한다. 따라서

$$
b \equiv c \pmod{m}
$$

## 예제

1. $17$을 $5$로 나눈 나머지를 구하여라. [^8]

2. $36$을 $6$으로 나눈 나머지를 구하여라. [^9]

3. $2^{10}$을 $11$로 나눈 나머지를 구하여라.[^10]

4. $11^n \equiv 1 \pmod{5}$임을 보여라. [^11]

5. $2^{20} - 1$이 $41$로 나누어 떨어짐을 보여라. [^12]

6. $2^{10} \cdot 14^{40} - 1$은 $11$의 배수임을 보여라. [^13]

7. $3^{2002}$를 $7$로 나눈 나머지를 구하여라. [^14]

8. $x^2 + y^2 = 1003$을 만족하는 정수 $x, y$는 없음을 증명하여라. [^15]

[^1]: (반사성) $a - a = 0 \Rightarrow m \mid 0$
[^2]: (대칭성) $a - b \equiv 0 \pmod{m} \Rightarrow b - a = -(a - b) \equiv 0 \pmod{m}$
[^3]: (추이성) $a - b \equiv 0,\ b - c \equiv 0 \Rightarrow a - c = (a - b) + (b - c) \equiv 0 \pmod{m}$
[^4]: (복호동순) $a - b \equiv 0,\ c - d \equiv 0 \Rightarrow (a \pm c) - (b \pm d) = (a - b) \pm (c - d) \equiv 0 \pmod{m}$
[^5]: (덧셈보존) $a - b \equiv 0 \Rightarrow (a + c) - (b + c) = a - b \equiv 0$
[^6]: (곱셈보존) $ac = (b + km)(d + lm) = bd + m(kd + klm + bl) \Rightarrow ac \equiv bd \pmod{m}$
[^7]: (거듭제곱보존) $a - b = km$이면, 귀납법으로 $a^n - b^n = (a - b)q$꼴이 되어 $m \mid (a^n - b^n)$
[^8]: $17 = 5 \cdot 3 + 2$이므로, $17 \equiv 2 \pmod{5}$이다.
[^9]: $36 = 6 \cdot 6 + 0$이므로, $36 \equiv 0 \pmod{6}$이다.
[^10]: $2^{10} = 1024 = 11 \cdot 93 + 1$이므로, $2^{10} \equiv 1 \pmod{11}$이다.
[^11]: $11 \equiv 1 \pmod{5}$이므로, $11^n \equiv 1^n \equiv 1 \pmod{5}$이다.
[^12]: $2^5 \equiv -9 \pmod{41}$이므로 $2^{20} \equiv 81 \equiv -1 \pmod{41}$이다. 따라서 $2^{20} - 1 \equiv 0 \pmod{41}$이다.
[^13]: $2^5 \equiv -1 \pmod{11}$이므로 $2^{10} \equiv 1 \pmod{11}$이다. 또한 $14 \equiv 3 \pmod{11}$이므로 $14^{40} \equiv 3^{40} \equiv 1 \pmod{11}$이다. 따라서 $2^{10} \cdot 14^{40} \equiv 1 \cdot 1 \equiv 1 \pmod{11}$이다. 따라서 $2^{10} \cdot 14^{40} - 1 \equiv 0 \pmod{11}$이다.
[^14]: $3^3 \equiv -1 \pmod{7}$이므로 $3^{2001} \equiv (-1)^{667} \equiv -1 \pmod{7}$이다. 따라서 $3^{2002} \equiv -3 \equiv 4 \pmod{7}$이다.
[^15]: $x^2 + y^2 = 1003$을 만족하는 정수 $x, y$가 존재하면, $x^2 + y^2 \equiv 1003 \pmod{4}$이어야 한다. $x^2, y^2$는 각각 $0$ 또는 $1$로 나누어 떨어져야 하므로, $x^2 + y^2$는 $0, 1, 2$ 중 하나가 되어야 한다. 그러나 $1003 \equiv 3 \pmod{4}$이므로, $x^2 + y^2 = 1003$을 만족하는 정수 $x, y$는 존재하지 않는다.