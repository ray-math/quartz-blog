---
title: 행렬의 곱은 왜 이렇게 이상하게 정의되어있을까?
date: 2025-02-08
tags:
  - 행렬
  - 곱
  - 변환
---
행렬의 합과 스칼라 곱을 각각 선형변환의 합과 스칼라 곱에 대응하는 방식으로 행렬과 선형변환의 개념을 연결하였다. 선형변환의 합성에 대응하는 행렬의 연산은 무엇일까? 바로 행렬 곱이다.

이제 행렬의 곱셈에 주목하겠습니다. 

$V$, $W$, $Z$를 유한 차원의 벡터 공간이라고 하고 $T: V \to W$, $U: W \to Z$가 선형 변환이라고 하겠습니다. $A = [U]_\beta^\gamma$, $B = [T]_\alpha^\beta$라고 가정하며, 여기서 $\alpha = \{v_1, v_2, \dots, v_n\}$, $\beta = \{w_1, w_2, \dots, w_m\}$, $\gamma = \{z_1, z_2, \dots, z_p\}$는 각각 $V$, $W$, $Z$의 순서가 지정된 기저입니다. 우리는 행렬 $AB$를 정의하여 $AB = [UT]_\alpha^\gamma$가 되도록 하고자 합니다.

행렬 곱 $(UT)$를 고려하면, $j = 1, 2, \dots, n$에 대해 다음이 성립합니다.
$$
\begin{align*}
(UT)(v_j) &= U(T(v_j)) \\
&= U\left(\sum_{k=1}^m B_{kj} w_k\right) \\
&= \sum_{k=1}^m B_{kj} U(w_k) \\
&= \sum_{k=1}^m B_{kj} \left(\sum_{i=1}^p A_{ik} z_i\right) \\
&= \sum_{i=1}^p \left(\sum_{k=1}^m A_{ik} B_{kj}\right) z_i \\
&= \sum_{i=1}^p C_{ij} z_i
\end{align*}
$$
여기서 $C_{ij}$의 계산은 행렬 곱셈 정의를 유도합니다.
$$
C_{ij} = \sum_{k=1}^m A_{ik} B_{kj}.
$$


**정의.** $A$를 $m \times n$ 행렬, $B$를 $n \times p$ 행렬이라고 하겠습니다. 우리는 $A$와 $B$의 곱을 $AB$로 표시하며, $AB$를 $m \times p$ 행렬로 정의합니다. 이때,

$$
(AB)_{ij} = \sum_{k=1}^n A_{ik} B_{kj}, \quad 1 \leq i \leq m, \quad 1 \leq j \leq p.
$$
$(AB)_{ij}$는 $A$의 $i$번째 행과 $B$의 $j$번째 열에서 해당 원소들의 곱의 합을 의미합니다. 이 식으로부터 $AB$가 정의되기 위해서는 $A$와 $B$의 상대적인 크기에 제약 조건이 있음을 알아야 합니다. 다음의 기억 장치(mnemonic device)는 도움이 될 수 있습니다.

$$
(m \times n) \cdot (n \times p) = (m \times p)
$$

즉, 곱 $AB$가 정의되기 위해서는 두 "내부" 차원(inner dimensions)이 같아야 하며, 두 "외부" 차원(outer dimensions)이 곱의 크기를 결정합니다.

--- 
## 예제
$U: P_3(\mathbb{R}) \to P_2(\mathbb{R})$와 $T: P_2(\mathbb{R}) \to P_3(\mathbb{R})$를 각각 다음과 같이 정의된 선형 변환이라고 하겠습니다.
$$
U(f(x)) = f'(x), \quad T(f(x)) = \int_0^x f(t) \, dt.
$$
$P_3(\mathbb{R})$와 $P_2(\mathbb{R})$의 표준 기저를 각각 $\alpha=\{ 1, x, x^{2}, x^3\}$와 $\beta=\{ 1, x, x^{2}\}$라 하겠습니다.미적분학에 의해 

$$
U(T(f(x))) = \frac{d}{dx} \left( \int_0^{x} {f(t) \, dt} \right)=f(x)
$$

입니다. 행렬로 나타내면 $UT = I$ (여기서 $I$는 $P_2(\mathbb{R})$에서의 항등 변환)임을 알 수 있습니다.
$$
[UT]_\beta = [U]_\alpha^\beta [T]_\beta^\alpha = 
\begin{pmatrix}
0 & 1 & 0 & 0  \\
0 & 0 & 2 & 0 \\
0 & 0 & 0 & 3
\end{pmatrix}
\begin{pmatrix}
0 & 0 & 0 \\
1 & 0 & 0 \\
0 & \frac{1}{2} & 0 \\
0 & 0 & \frac{1}{3}
\end{pmatrix}
=
\begin{pmatrix}
1 & 0 & 0 \\
0 & 1 & 0 \\
0 & 0 & 1
\end{pmatrix}
= [I]_\beta.
$$
반대로, $TU$는 어떨까요? 미적분학의 기본 정리에 의해 $TU$는 $f(x)$에서 상수항(즉, $f(0)$)을 제거하는 변환임을 알 수 있습니다. 
$$
TU(f(x)) = T(f'(x)) = \int_0^{x} {f'(t) \, dt} = f(x) - f(0)
$$
이를 행렬로 나타내면 다음과 같습니다.

$$
[TU]_\alpha = [T]_\beta^\alpha [U]_\alpha^\beta =
\begin{pmatrix}
0 & 0 & 0 \\
1 & 0 & 0 \\
0 & \frac{1}{2} & 0 \\
0 & 0 & \frac{1}{3}
\end{pmatrix}
\begin{pmatrix}
0 & 1 & 0 & 0 \\
0 & 0 & 2 & 0 \\
0 & 0 & 0 & 3
\end{pmatrix} = 
\begin{pmatrix}
0 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 \\
0 & 0 & 1 & 0 \\
0 & 0 & 0 & 1
\end{pmatrix}
$$

$UT$는 $P_2(\mathbb{R})$에서 항등 변환으로 작용합니다. 반면 $TU$는 $P_3(\mathbb{R})$에서 $P_3(\mathbb{R})$로 작용하지만, 항등 변환은 아닙니다. 이 차이는 행렬 표현에서 나타나는 차원과 구조적 특징의 차이로 명확히 드러납니다.